[{"comment":"登录页","request":{"method":"POST","url":"http://www.doki8.net/login","headers":[{"name":"Connection","value":"keep-alive"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Content-Type","value":"application/x-www-form-urlencoded"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"v1","re":"(?<=<span><input type=\"text\" size=\"2\" length=\"2\" id=\"mc\\-input\" class=\"mc-input\" name=\"mc-value\" value=\"\" aria\\-required=\"true\"[\\s\\S]>)(.+)(?=</span>)","from":"content"},{"name":"v2","re":"(?<=<span>)(.+)(?=<input type=\"text\" .* name=\"mc-value\" .*></span>)","from":"content"},{"name":"v3_1","re":"(?<=<span>)(.+)(?=<input type=\"text\" .* name=\"mc-value\" .*>.+</span>)","from":"content"},{"name":"v3_2","re":"(?<=<span>).+(?=<input type=\"text\" .* name=\"mc-value\" .*>(.+)</span>)","from":"content"}]}},{"comment":"第一种算数情况","request":{"method":"GET","url":"{% if v1%}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"提取数字和字符","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content={{v1|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"num1","re":"= (\\d+)","from":"content"},{"name":"num2","re":"\\d+","from":"content"},{"name":"operator","re":": \"(.+?)","from":"content"}]}},{"comment":"运算法转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{ternary(operator == \"+\", \"-\", ternary(operator == \"−\", \"+\", ternary(operator == \"×\", \"/\", \"*\"))) | urlencode }}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"operator","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"判断条件不成立","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"第二种算数情况","request":{"method":"GET","url":"{% if v2 %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"提取数字和字符","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content={{v2|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"num1","re":"\\d+","from":"content"},{"name":"num2","re":"(\\d+) =","from":"content"},{"name":"operator","re":"\\d+ (.+) \\d+","from":"content"}]}},{"comment":"处理算数信息","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content={{ternary(operator == \"+\", \"+\", ternary(operator == \"−\", \"-\", ternary(operator == \"×\", \"*\", \"/\"))) | urlencode }}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"operator","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"判断条件不成立，第三种算数情况","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content={{v3_1|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"num1","re":"\\d+","from":"content"},{"name":"operator","re":"\\d+ (.+?)\"","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content={{v3_2|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"num2","re":"\\d+","from":"content"}]}},{"comment":"处理算数信息","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=true&content=数字1为:{{ternary(operator == \"+\", num2, ternary(operator == \"−\", num1, ternary(operator == \"×\", num2, num1)))}},数字2为:{{ternary(operator == \"+\", num1, ternary(operator == \"−\", num2, ternary(operator == \"×\", num1, num2)))}},符号为：{{ternary(operator == \"+\", \"-\", ternary(operator == \"−\", \"-\", ternary(operator == \"×\", \"/\", \"/\"))) | urlencode }}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"num1","re":"数字1为:(\\d+)","from":"content"},{"name":"num2","re":"数字2为:(\\d+)","from":"content"},{"name":"operator","re":"符号为：(.+)\"","from":"content"}]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"加法运算","request":{"method":"GET","url":"{% if operator == \"+\" %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"加法计算","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{add(num1,num2)|int}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"mcValue","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"减法运算","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断条件成立","request":{"method":"GET","url":"{% if operator == \"-\" %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"减法计算","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{sub(num1,num2)|int}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"mcValue","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"判断条件不成立","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[]}},{"comment":"判断条件成立","request":{"method":"GET","url":"{% if operator == \"*\" %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"乘法计算","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{multiply(num1,num2)|int}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"mcValue","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"判断条件不成立","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"除法计算","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{divide(num1,num2)|int}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"mcValue","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[]}},{"request":{"method":"POST","url":"http://www.doki8.net/login","headers":[{"name":"Connection","value":"keep-alive"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Content-Type","value":"application/x-www-form-urlencoded"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"Referer","value":"http://www.doki8.net/login?redirect_to=http%3A%2F%2Fwww.doki8.net%2F"},{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"log={{username}}&pwd={{passwd}}&mc-value={{mcValue}}&rememberme=forever&wp-submit=%E7%99%BB%E5%BD%95&redirect_to=http%3A%2F%2Fwww.doki8.net%2F&testcookie=1","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"302","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"积分页","request":{"method":"GET","url":"http://www.doki8.net/members/{{username}}/profile/edit/group/1/","headers":[{"name":"Connection","value":"keep-alive"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Content-Type","value":"application/x-www-form-urlencoded"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"jf","re":"mycred-mycred_default\">积分: (.*?) 心动豆</div>","from":"content"},{"name":"level","re":"等级:\\s*(.+?)\\s*<","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"content=等级：【{{level}}】，积分：【{{jf}}】"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":"\"转换后\": \"(.*)\"","from":"content"}]}}]