[{"comment":"签到页,获取formhash","request":{"method":"GET","url":"https://www.hao4k.cn/qiandao/","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"Cookie","value":"{{cookie}}"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"403","from":"status"}],"failed_asserts":[{"re":"注册","from":"content"},{"re":"游客","from":"content"}],"extract_variables":[{"re":"formhash.*\"(.+?)\"","from":"content","name":"formhash"},{"name":"jsUrl","re":"type=\"text/javascript\" src=\"(.+?)\"","from":"content"},{"name":"val","re":"","from":"content"},{"name":"dun","re":"人机身份验证","from":"content"},{"name":"v","re":"","from":"content"},{"name":"yzm","re":"请输入验证码来继续访问","from":"content"},{"name":"tz","re":"跳转中","from":"content"},{"name":"tz_url","re":"window.location.href =\"(.+?)\"","from":"content"}]}},{"comment":"判断条件成立","request":{"method":"GET","url":"{% if dun %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"js链接","request":{"method":"GET","url":"https://www.hao4k.cn{{jsUrl}}","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"re":"key=\"(.+?)\"","from":"content","name":"yzKey"},{"name":"yzValue","re":"value=\"(.+?)\"","from":"content"},{"name":"yzType","re":"php\\?type=(.+?)&","from":"content"}]}},{"request":{"method":"POST","url":"https://www.asciitohex.com/","headers":[],"cookies":[],"data":"ascii={{yzValue}}"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"decStr","re":"<textarea id=\\\"char\\\" name=\\\"char\\\">(.*?)</textarea>","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{regex_findall(decStr, \"\\d+\", True, False)}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"decList","re":"/'(\\d+)'/g","from":"content"}]}},{"comment":"For 循环开始","request":{"method":"GET","url":"{% for v in decList %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{add(v,1)|int}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"code","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content={{val}}{{code}}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"val","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"For 循环结束","request":{"method":"GET","url":"{% endfor %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"Copy_","request":{"method":"GET","url":"https://www.hao4k.cn/a20be899_96a6_40b2_88ba_32f1f75f1552_yanzheng_huadong.php?type={{yzType|urlencode}}&key={{yzKey|urlencode}}&value={{md5(val)|urlencode}}","headers":[{"name":"accept","value":"*/*"},{"name":"accept-language","value":"zh-CN,zh;q=0.9"},{"name":"cache-control","value":"no-cache"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.hao4k.cn/qiandao/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"Accept-Encoding","value":"deflate, gzip"}],"cookies":[]},"rule":{"success_asserts":[],"failed_asserts":[{"re":"人机身份验证","from":"content"}],"extract_variables":[]}},{"comment":"判断条件不成立","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断条件成立","request":{"method":"GET","url":"{% if yzm %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"验证码","request":{"method":"GET","url":"https://www.hao4k.cn/get_btwaf_captcha_base64?captcha={{timestamp('int')|urlencode}}{{random(100,999,0)|urlencode}}","headers":[{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"Accept","value":"*/*"},{"name":"Referer","value":"https://www.hao4k.cn/qiandao/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"base64IMG","re":"msg\":\"(.+?)\"}","from":"content"}]}},{"comment":"OCR识别","request":{"method":"POST","url":"api://util/dddd/ocr","headers":[{"name":"Content-Type","value":"application/json"}],"cookies":[],"data":"{\"img\":\"{{base64IMG}}\",\"imgurl\":\"\",\"old\":\"False\",\"extra_onnx_name\":\"\"}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"OK\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"captcha_val","re":"\"Result\": \"(.*)\"","from":"content"}]}},{"comment":"验证","request":{"method":"GET","url":"https://www.hao4k.cn/Verification_auth_btwaf?captcha={{captcha_val|urlencode}}","headers":[{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"Accept","value":"*/*"},{"name":"Referer","value":"https://www.hao4k.cn/qiandao/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"验证码错误","from":"content"}],"extract_variables":[]}},{"comment":"判断条件不成立","request":{"method":"GET","url":"{% else %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断条件成立","request":{"method":"GET","url":"{% if tz %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"Copy_签到页,获取formhash","request":{"method":"GET","url":"https://www.hao4k.cn{{tz_url}}","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"注册","from":"content"},{"re":"游客","from":"content"},{"re":"人机身份验证","from":"content"}],"extract_variables":[{"re":"formhash.*\"(.+?)\"","from":"content","name":"formhash"}]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断块结束","request":{"method":"GET","url":"{% endif %}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"签到页,获取formhash","request":{"method":"GET","url":"https://www.hao4k.cn/qiandao/","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"注册","from":"content"},{"re":"游客","from":"content"},{"re":"人机身份验证","from":"content"}],"extract_variables":[{"re":"formhash.*\"(.+?)\"","from":"content","name":"formhash"}]}},{"comment":"签到","request":{"method":"GET","url":"https://www.hao4k.cn/plugin.php?id=k_misign%3Asign&operation=qiandao&formhash={{formhash|urlencode}}&from=insign&inajax=1&ajaxtarget=JD_sign","headers":[{"name":"x-requested-with","value":"XMLHttpRequest"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"*/*"},{"name":"referer","value":"https://www.hao4k.cn/qiandao/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"pragma","value":"no-cache"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"未定义操作","from":"content"},{"re":"您所在用户组不允许使用","from":"content"}],"extract_variables":[{"re":"<!\\[CDATA\\[(.+?)\\]\\]>","from":"content","name":"msg"}]}},{"comment":"签到页","request":{"method":"GET","url":"https://www.hao4k.cn/qiandao/","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"lxdays","re":"id=\"lxdays\" value=\"(.+)\"","from":"content"},{"name":"lxlevel","re":"id=\"lxlevel\" value=\"(.+)\"","from":"content"},{"name":"lxreward","re":"id=\"lxreward\" value=\"(.+)\"","from":"content"},{"name":"lxtdays","re":"id=\"lxtdays\" value=\"(.+)\"","from":"content"}]}},{"comment":"积分页","request":{"method":"GET","url":"https://www.hao4k.cn/home.php?mod=spacecp&ac=credit&op=base","headers":[{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.hao4k.cn/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"hb","re":"H币: </em>(\\d+)","from":"content"},{"name":"gxz","re":"贡献值: </em>(\\d+)","from":"content"},{"name":"hy","re":"活跃: </em>(\\d+)","from":"content"},{"name":"wgz","re":"违规值: </em>(\\d+)","from":"content"},{"name":"jf","re":"积分: </em>(\\d+)","from":"content"},{"name":"nickName","re":"class=\"username\"><\\/?a.*?>(.+?)<","from":"content"},{"name":"g_upmine","re":"用户组: (.+?)<","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"html_unescape=false&content=用户：【{{nickName}}】，用户组：【{{g_upmine}}】\\r\\n签到信息：【{{msg}}】\\r\\n连续签到：【{{lxdays}}】，签到等级：【Lv.{{lxlevel}}】，积分奖励：【{{lxreward}}】，总天数：【{{lxtdays}}天】\\r\\nH币：【{{hb}}】，贡献值：【{{gxz}}】，活跃：【{{hy}}°】，违规值：【{{wgz}}】，积分：【{{jf}}】"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":"\"转换后\": \"(.*)\"","from":"content"}]}}]